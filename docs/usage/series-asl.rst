Series Type: ASL
================

The full ASL generation pipeline, comprises of constructing a time-series of m0, control and label volumes
with perfusion signal generated by the General Kinetic Model, which is then encoded into
gradient or spin echo contrast, motion is optionally applied, and an image is acquired at the
specified acquisition resolution.

All parameters have defaults if omitted; the default parameters result in a "White Paper"
style acquisition (pCASL, 1.8s label duration, 1.8s PLD etc.) with one M0, one Control and one Label
volume and SNR of 10. All strings are case-insensitive, for example "pcasl", "pCASL" and "PCASL"
are all valid.

Images generated by the ASL pipeline will be stored in a subdirectory names "asl".

Single value parameters
~~~~~~~~~~~~~~~~~~~~~~~

The following parameters are applied to every volume that is generated by the DRO.

:label_type: (string, optional): Defines the type of ASL labelling: "pcasl", "casl" or "pasl".
    See :class:`.GkmFilter` for implementation details. Defaults to ``"pcasl"``.
:label_duration: (float, optional): The temporal duration in seconds of the labelled bolus of blood.
    Defaults to ``1.8``.
:signal_time: (float, optional): The time in seconds after labelling commences at which the ASL signal should
    be generated. Note that this is equal to the ``label_duration`` + Post Label Delay, however the latter
    is not a defined parameter. Defaults to ``3.6``.
:label_efficiency: (float, optional): The degree of inversion of the magnetisation by the labelling
    pulses. Defaults to ``0.85``.
:acq_matrix: (array of integers, optional): A 3-entry array defining the acquisition matrix size
    [Ni, Nj, Nk]. Defaults to ``[64, 64, 20]``.
:acq_contrast: (string, optional): Defines the MRI signal model to use. "ge" for Gradient Echo,
    "se" for Spin Echo.  See :class:`.MriSignalFilter` for implementation details. Defaults to ``"se"``.
:desired_snr: (float, optional): The signal-to-noise ratio of the acquired image. Note this is the 
  base SNR of the image, not the SNR of the perfusion signal. A value of approximately 100 is comparable
  to the sort of SNR in a single ASL control-label pair. If this has value of 0, then no noise
  will be added. See :class:`.AddComplexNoiseFilter` for implementation details. Defaults to ``100.0``.
:random_seed: (int, optional): Seed to control the determinism of any pseudo-random behaviour
  in the pipeline, for example the noise added to images. Defaults to ``0``.


Array Parameters
~~~~~~~~~~~~~~~~

The following parameters are all supplied as arrays, with each entry corresponding with the volumes
defined in ``asl_context``.

:asl_context: (string, optional): A list of the ASL volumes to simulate, any combination of
    "m0scan", "control" and "label", separated by a space. Defaults to ``"m0scan control label".``
:echo_time: (array of floats, optional): The time in seconds after the excitation pulse that the
    MRI signal is acquired. This parameter generally affects the T2 or T2* contrast. Defaults
    to ``[0.01, 0.01, 0.01]``.
:repetition_time: (array of floats, optional): The time in seconds between successive excitation pulses.
    This parameter affects the T1 contrast. Defaults to ``[10.0, 5.0, 5.0]``.
:rot_z: (array of floats, optional): Rotation of the ground truth model in world space about the
    z-axis in degrees. See :class:`TransformResampleImageFilter` for implementation details.
    Defaults to ``[0.0, 0.0, 0.0]``.
:rot_y: (array of floats, optional): Rotation of the ground truth model in world space about the
    y-axis in degrees. Defaults to ``[0.0, 0.0, 0.0]``.
:rot_x: (array of floats, optional): Rotation of the ground truth model in world space about the
   x-axis in degrees. Defaults to ``[0.0, 0.0, 0.0]``.
:transl_x: (array of floats, optional): Translation of the ground truth model in world space along the
    x-axis in mm. Defaults to ``[0.0, 0.0, 0.0]``.
:transl_y: (array of floats, optional): Translation of the ground truth model in world space along the
    y-axis in mm. Defaults to ``[0.0, 0.0, 0.0]``.
:transl_z: (array of floats, optional): Translation of the ground truth model in world space along the
    z-axis in mm. Defaults to ``[0.0, 0.0, 0.0]``.
